/**
 * @file plugins/themes/default/index.less
 *
 * Copyright (c) 2014-2021 Simon Fraser University
 * Copyright (c) 2003-2021 John Willinsky
 * Distributed under the GNU GPL v3. For full terms see the file docs/COPYING.
 *
 * @brief Default theme stylesheet
 *
 */

// =========================================================
// 1. OJS CORE IMPORTS
// =========================================================
@import "../../../../lib/pkp/styles/fontawesome.less";
@import "../../../../lib/pkp/styles/normalize.less";
@import "../../../../lib/pkp/styles/variables.less";
@import "../../../../lib/pkp/styles/utils.less";
@import "../../../../lib/pkp/styles/helpers.less";

// =========================================================
// 2. THEME IMPORTS (Urutan Jangan Diubah)
// =========================================================
@import "variables.less";
@import "components.less";
@import "body.less";
@import "head.less";
@import "main.less";
@import "components/nav-toggle.less";
@import "pages/indexSite.less";
@import "pages/indexJournal.less";
@import "pages/category.less";
@import "pages/contact.less";
@import "pages/issueArchive.less";
@import "pages/issue.less";
@import "pages/login.less";
@import "pages/lostPassword.less";
@import "pages/register.less";
@import "pages/search.less";
@import "pages/section.less";
@import "pages/viewPdf.less";
@import "objects/announcement_full.less";
@import "objects/announcement_summary.less";
@import "objects/article_details.less";
@import "objects/article_summary.less";
@import "objects/galley_link.less";
@import "objects/issue_summary.less";
@import "objects/issue_toc.less";
@import "sidebar.less";
@import "footer.less";
@import "rtl.less";

// =========================================================
// 3. GLOBAL FIXES
// =========================================================
html,
body {
  overflow-x: hidden !important; /* Mencegah geser kanan-kiri yang tidak perlu */
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
}

// =========================================================
// 4. MOBILE RESPONSIVE FIX (SWIPEABLE MENU)
//    Mode: Menu muncul langsung & bisa digeser (Scroll Samping)
// =========================================================

@media (max-width: 768px) {
  /* A. HILANGKAN TOMBOL HAMBURGER (KITA GAK BUTUH LAGI) */
  .pkp_site_nav_toggle {
    display: none !important;
  }

  /* B. MUNCULKAN TOP BAR (LOGIN/REGISTER) */
  /* Ini agar user tetap bisa login/register dengan mudah */
  body .top-simple-bar {
    display: flex !important;
    justify-content: center !important;
    background: #03192d !important;
    padding: 8px 0 !important;
    position: relative !important;
    z-index: 100 !important;
  }

  body .top-simple-bar .pkp_navigation_user li a {
    font-size: 0.85rem !important;
    color: #fff !important;
  }

  /* C. WADAH MENU UTAMA */
  /* Paksa menu selalu muncul (tidak disembunyikan OJS) */
  .pkp_site_nav_menu {
    display: block !important;
    background: #ffffff !important;
    padding: 10px 0 15px 0 !important; /* Jarak atas bawah */
    border-bottom: 1px solid #f1f5f9 !important;
    width: 100% !important;
    overflow: hidden !important; /* Biar scrollnya diurus anak elemennya */
  }

  /* Sembunyikan Search & User Nav Bawaan di area menu (karena sudah ada di Top Bar) */
  .pkp_nav_list_container .pkp_navigation_user,
  .pkp_nav_list_container .pkp_search {
    display: none !important;
  }

  /* D. LIST MENU JADI HORIZONTAL SCROLL (GESER) */
  .pkp_navigation_primary {
    display: flex !important;
    flex-direction: row !important; /* Berjejer ke samping */
    flex-wrap: nowrap !important; /* DILARANG TURUN KE BAWAH */

    /* Aktifkan Scroll Samping */
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important; /* Biar smooth di iPhone */

    /* Hilangkan Scrollbar kasar biar rapi */
    scrollbar-width: none !important; /* Firefox */
    -ms-overflow-style: none !important; /* IE */

    gap: 10px !important;
    padding: 0 20px !important; /* Padding kiri kanan biar gak mepet layar */
    margin: 0 !important;
    width: 100% !important;
    align-items: center !important;
  }

  /* Sembunyikan scrollbar di Chrome/Safari */
  .pkp_navigation_primary::-webkit-scrollbar {
    display: none !important;
  }

  /* E. STYLE TOMBOL MENU (PILL SHAPE) */
  .pkp_navigation_primary > li {
    flex: 0 0 auto !important; /* JANGAN MENGECIL, pertahankan ukuran asli */
    width: auto !important;
    display: block !important;
  }

  .pkp_navigation_primary > li > a {
    display: inline-block !important;
    white-space: nowrap !important; /* Teks dilarang turun baris */

    padding: 8px 18px !important;
    font-size: 0.9rem !important;
    font-weight: 600 !important;

    /* Kembalikan Style Pill Biru Mas Ivan */
    background: #eff6ff !important;
    color: #0d6efd !important;
    border-radius: 50px !important; /* Bulat Pill */
    border: 1px solid #dbeafe !important;
    text-transform: capitalize !important;
    transition: all 0.2s !important;
  }

  /* Efek Aktif / Hover di HP */
  .pkp_navigation_primary > li > a:hover,
  .pkp_navigation_primary > li[aria-current="page"] > a {
    background: #0d6efd !important;
    color: #ffffff !important;
    border-color: #0d6efd !important;
    box-shadow: 0 4px 10px rgba(13, 110, 253, 0.2) !important;
  }

  /* F. FIX HEADER CONTENT BIAR GAK KETUTUP */
  .pkp_head_wrapper {
    /* Karena menu sekarang nempel statis, kita gak perlu padding aneh-aneh */
    padding-top: 10px !important;
  }
}
